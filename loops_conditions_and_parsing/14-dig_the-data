#!/usr/bin/env bash
# This script parses Apache logs, groups visitors by IP and HTTP status code, and displays them in the specified format.

# Parse the log, extract IP and status code, count occurrences, sort, and format the output.
awk '{print $1, $9}' apache-access.log 2>/dev/null | grep -E '^[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+ [0-9]{3}$' | sort | uniq -c | sort -rn | awk '{print $1, $2, $3}'
